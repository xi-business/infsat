Grammar.
S ->
  M X b c X b c.
M x1 s1 t1 x2 s2 t2 ->
  br
    (x2 (x1 (fun t3 -> s1 (s2 t3))) (tr t1 t2))
    ((fun y -> y (y (fun s3 -> fun t3 -> s3 (b t3))) b c) (M x2 s2 t2)).
X s3 t3 ->
  s3 (b t3).
End.

Terminals.
a -> 2 $.
b -> 1 $.
c -> 0 $.
End.
